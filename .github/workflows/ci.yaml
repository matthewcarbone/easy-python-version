name: test

on:
  - push
  - pull_request

jobs:

  test:

    strategy:
      matrix:
        os: [ubuntu-latest] 
    runs-on: ${{ matrix.os }}

    steps:

      - uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: "test self on tag push true"
        uses: ./
        with:
          package_path: "./"
          on_tag_push_only: true

      - name: "test self on tag push false"
        uses: ./
        with:
          package_path: "./"
          on_tag_push_only: false
